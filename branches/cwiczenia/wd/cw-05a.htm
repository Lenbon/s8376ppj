<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"><html><head>
  <meta http-equiv="content-type" content="text/html; charset=windows-1250">
  <meta name="author" content="Krzysztof Barteczko">
  <meta name="description" content="XML i Java"><title>XML i Java</title>
  <link rel="stylesheet" type="text/css" href="../style/spis.css">
</head>

<body bgcolor=#FFFFFF>
  <div id="overDiv" style="position:absolute; visibility:hidden; z-index:1000;">&nbsp;
    <P>&nbsp;</P>
    <P>&nbsp;</P>
    <P>&nbsp;</div>
  <P align="center"><B>Zadania do wykonania</B></P>
  <HR>
  <P><FONT size="4"><B>ZADANIE-1 (9p) </B>: <B>Wykreœlanie na komponencie, animacje, 
	w¹tki</B></FONT></P>
  <P><BR>
  W programie <B>Anim.java </B>którego kod znajduje siê poni¿ej</P>
  <TABLE border="1" cellpadding="0" cellspacing="0" width="100%" bgcolor="#C0C0C0">
    <TR>
      <TD width="100%"><FONT color="#008000"><B>// Animowanie figury<BR>
        // okrag odbija sie od krawedzi pulpitu.&nbsp;&nbsp;&nbsp; <BR>
        // przygotowanie wpólrzednych figury w watku glownym,<BR>
        // wykreslanie w watku zdarzeniowym w paintComponent().<BR>
      </B></FONT>
        <BR>
      i<FONT color="#800080">mport java.util.*;<BR>
        import java.awt.*;<BR>
        import javax.swing.*;<BR>
        <BR>
        class BasicAnim extends JPanel {<BR>
        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <BR>
        &nbsp;&nbsp;&nbsp; int dim = 20;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><B><FONT color="#008000"> //srednica figury&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT></B><FONT color="#800080"> <BR>
        &nbsp;&nbsp;&nbsp; int x = 75, y = 75;&nbsp; </FONT><B><FONT color="#008000">//polozenie
        poczatkowe&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT></B><FONT color="#800080">&nbsp;&nbsp; <BR>
        &nbsp;&nbsp;&nbsp; int dx = 3, dy = 5; </FONT><B><FONT color="#008000"> //dlugosc kroku w kierunku x i
        y&nbsp;&nbsp;&nbsp;</FONT></B><FONT color="#800080">&nbsp;&nbsp;&nbsp;&nbsp; <BR>
        &nbsp;&nbsp;&nbsp; int delay = 40;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><B><FONT color="#008000"> //opoznienie
        odswiezania&nbsp;&nbsp;&nbsp;</FONT></B><FONT color="#800080"> <BR>
        &nbsp;&nbsp;&nbsp; <BR>
        &nbsp;&nbsp;&nbsp; public void paintComponent(Graphics g){<BR>
        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
        super.paintComponent(g);&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
        <BR>
        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; g.setColor(Color.blue); <B>
        //ustawienie koloru wykreslania</B><BR>
        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; g.fillOval(x, y, dim, dim); <B>//wype³nienie kola kolorem</B><BR>
        &nbsp;&nbsp;&nbsp; }<BR>
        &nbsp;&nbsp;&nbsp; <BR>
        &nbsp;&nbsp;&nbsp; public void startAnim(){<BR>
        &nbsp;&nbsp;&nbsp; <BR>
        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
        while(true){&nbsp;&nbsp;&nbsp; <BR>
        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<B>&nbsp; //
        odbicie</B><BR>
        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; if(x
        + dim &gt; getWidth() || x &lt; 0)<BR>
        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
        dx = -dx;<BR>
        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; if(y
        + dim &gt; getHeight() || y &lt; 0)<BR>
        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
        dy = -dy;<BR>
        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <B>//
        przesuniecie wzdluz x i y</B> <BR>
        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; x +=
        dx;<BR>
        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; y +=
        dy;<BR>
        <BR>
        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
        repaint(); </FONT><B><FONT color="#008000"> //wstawienie paintComponent() do watku zdarzeniowego</FONT></B><FONT color="#800080"><BR>
        <BR>
        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
        try{Thread.sleep(delay);} //uspienie watku<BR>
        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
        catch(InterruptedException e){ }<BR>
        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }<BR>
        &nbsp;&nbsp;&nbsp; }<BR>
        &nbsp;&nbsp;&nbsp; <BR>
        &nbsp;&nbsp;&nbsp; public Dimension getPreferredSize(){<BR>
        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; return new Dimension(200,
        200);<BR>
        &nbsp;&nbsp;&nbsp; }<BR>
        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <BR>
        &nbsp;&nbsp;&nbsp; public static void main(String[] args){<BR>
        <BR>
        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; JFrame frame = new
        JFrame(&quot;Animacja&quot;); </FONT><FONT color="#008000"><B>//utworzenie okna ramowego</B></FONT><FONT color="#800080"><BR>
        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; BasicAnim anim&nbsp; = new BasicAnim(); </FONT><B><FONT color="#008000">//utworzenie panelu do rysowania</FONT></B><FONT color="#800080"><BR>
        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
        frame.getContentPane().add(anim);&nbsp; </FONT><B><FONT color="#008000">//dodanie panelu do okna ramowego</FONT></B><FONT color="#800080"><BR>
        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; frame.setLocation(300, 300);&nbsp; </FONT><B><FONT color="#008000">//lokalizacja okna na ekranie</FONT></B><FONT color="#800080"><BR>
        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE); </FONT><B><FONT color="#008000">//obs³uga
        zamkniecia okna</FONT></B><FONT color="#800080"><BR>
        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; frame.pack(); </FONT><B><FONT color="#008000"> //upakowanie
        okna</FONT></B><FONT color="#800080"><BR>
        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; frame.show(); </FONT><FONT color="#008000"><B>//wyswietlenie
        okna na ekranie&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</B></FONT><FONT color="#800080"> <BR>
        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; anim.startAnim();</FONT><B><FONT color="#008000"> //
        rozpoczecie animacji</FONT></B><FONT color="#800080"><BR>
        &nbsp;&nbsp;&nbsp; }<BR>
        <BR>
        }<BR>
      </FONT>
      </TD>
    </TR>
  </TABLE>
  <P>a) dokonaj zmian tak ¿eby przygotowanie wspó³rzêdnych figury do
  wykreslania nie odbywa³o siê w g³ównym w¹tku systemowym,lecz w w¹tku
  pobocznym,utworzonym przez programistê. Dla u³atwienia komunikacji klasa w¹tku
  pobocznego mo¿e byæ klas¹ wewnêtrzn¹ w klasie BasicAnim.</P>
  <P>b) wprowadŸ drugi w¹tek poboczny tak aby przemieszczanie siê nowego ko³a&nbsp;
  odbywa³o sie tak jak na rysunku(powrót po tej samej
  linii):&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </P>
  <TABLE border="1" cellpadding="0" cellspacing="0" width="61%" height="163" bgcolor="#FFFFFF">
    <TR>
      <TD width="100%" height="161"><IMG border="0" src="images/anim1.gif" width="542" height="228"></TD>
    </TR>
  </TABLE>
  <P>dodaj do metody <B>paintComponent() </B>wykreslanie nowego ko³a zgodnie z
  w¹tkiem drugim i wystartuj oba watki.</P>
  <P>c) wprowadŸ nastêpny w¹tek tak aby przemieszczanie siê nowego ko³a&nbsp;
  odbywa³o sie tak jak na rysunku(powrót po tej samej linii):</P>
  <TABLE border="1" cellpadding="0" cellspacing="0" width="62%">
    <TR>
      <TD width="100%"><IMG border="0" src="images/anim2.gif" width="505" height="250"></TD>
    </TR>
  </TABLE>
  <P>dodaj do metody <B>paintComponent() </B>wykreslanie nowego ko³a zgodnie z
  w¹tkiem trzecim i wystartuj wszystkie 3 watki</P>
  <P>Zaobserwuj w czasie animacji wykonywanie zadañ przez poszczególne w¹tki.
  </P>
  <HR>
  <HR>



</body>
</html>